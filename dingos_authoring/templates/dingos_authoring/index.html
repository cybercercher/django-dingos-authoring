{% extends "dingos_authoring/base.html" %}


{% block content %}

<div id="dda-container-tabs">
  <ul>
    <li><a href="#dda-tab-1">Stix Package</a></li>
    <li><a href="#dda-tab-2">Observable Pool</a></li>
    <li><a href="#dda-tab-3">Indicator Pool</a></li>
    <li><a href="#dda-tab-4">Object Relations</a></li>
  </ul>


  <!-- Object Package Tab -->
  <div id="dda-tab-1" class="l-2cr-fluid l-d-12"> 
    <div class="c-1">

      <div class="grp-module">
        <h2>Package Meta</h2>
        <div class="grp-row" id="dda-stix-meta">
	  <input type="text" name="stix_header_title" placeholder="Title">
	  <input type="text" name="stix_header_description" placeholder="Description">
	  <select name="stix_header_tlp"><option value="white">White</option><option value="green">Green</option><option value="amber">Amber</option><option value="red">Red</option></select>
	  <input type="hidden" name="stix_header_produced_time">
	  <hr>
	  <button id="dda-stix-generate">Generate</button>
        </div>
      </div>

      <div class="grp-module">
        <h2>Observables</h2>
	<div class="grp-row" id="dda-observable-pool"></div>
      </div>
    </div>
    <div class="c-2">
      <div class="grp-module">
        <h2>Package Contents</h2>
        <div id="dda-package-indicators" class="grp-row">
        </div>
      </div>
    </div>

    <div id="dda-gen-output" class="grp-module" style="display:none;margin-top:3em;">
      <h2>Package Output</h2>
      <pre></pre>
    </div>
  </div>


  <!-- Observable Pool Tab -->
  <div id="dda-tab-2" class="l-2cr-fluid l-d-12"> 
    <div class="c-1">
      <div class="grp-module">
        <h2>Observable Templates</h2>
        <div class="grp-row">
	  <div class="grp-row" id="dda-pool-elements">
          </div>
	</div>
      </div>
    </div>
    <div class="c-2">
      <div class="grp-module">
        <h2 id="dda-template-head">Pool</h2>
        <div class="grp-row" id="dda-pool-list"></div>
      </div>
    </div>
  </div>

  <!-- Indicator Tab -->
  <div id="dda-tab-3" class="l-2cr-fluid l-d-12"> 
    <div class="grp-module">
      <h2 class="clearfix">
	Indicator Configuration
	<button id="dda-indicator-add-btn" class="pull-right">Add Indicator</button>
	<ul id="dda-indicator-add-btn-menu" style="display:none;"></ul>
      </h2>
      <div class="grp-row" id="dda-indicator-list"></div>
    </div>
  </div>


  <!-- Object Relations Tab -->
  <div id="dda-tab-4" class="l-2cr-fluid l-d-12"> 
    <div class="c-1">
      <div class="grp-module">
        <h2>Relation Type</h2>
        <div class="grp-row" id="dda-relation-list">
	  {% for rel in relations %}
	     {% if forloop.first %} 
<div class="dda-add-element dda-rel-selected"><input type="radio"  name="dda-selected-relation" value="{{ rel.value}}" style="display:none;" checked="true"><h3>{{ rel.label }}</h3><p>{{ rel.description }}</p></div>
	     {% else %}
<div class="dda-add-element"><input type="radio"  name="dda-selected-relation" value="{{ rel.value}}" style="display:none;"><h3>{{ rel.label }}</h3><p>{{ rel.description }}</p></div>
	     {% endif %}	  
	  {% endfor %}
	</div>
      </div>
    </div>
    <div class="c-2">
      <div id="relation-pane"></div>
    </div>
  </div>




</div>


<div id="dda-observable-template-pool" style="display:none;"> 

 {% for observableForm in observableForms %}
 <div class="dda-observable-template">
   <table>
     {{ observableForm.as_table }} 
   </table>
 </div>
 {% endfor %} 


</div>

<div id="dda-indicator-template-pool" style="display:none;"> 

 {% for indicatorForm in indicatorForms %}
 <div class="dda-indicator-template">
   <table>
     {{ indicatorForm.as_table }} 
   </table>
 </div>
 {% endfor %} 

</div>

{% endblock content %}

